<div class="container-fluid">
  <div class="row">
      <div class="col-md-12">
          <div class="panel panel-white">
              <div class="panel-heading clearfix">
                  <div class="row">
                    <div class="col-lg-4">
                      <div class="float-left">
                        <a [routerLink]='["/feed/hospital/config", organization.id]' type="button" class="btn btn-default"><i class="fa fa-reply"> </i> Back</a>
                      </div>
                    </div>
                    <div class="col-lg-4">
                      <h4 class="panel-title">{{ organization.name }} Staffs</h4>
                    </div>
                    <div class="col-lg-4">
                      <a [routerLink]='["/feed/staffs/add", organization.id]' type="button" class="btn btn-success" style="float: right;"><i class="fa fa-plus"> </i> Add New Staff</a>
                    </div>
                  </div>
                  <br/>
              </div>
              <div class="panel-body">
                  <div class="row" *ngIf="(staffs.length > 0)">
                      <div class="col-lg-8">
                          <div class="form-group">
                            <label for="inputEmail3">Show</label>
                            <select class="form-control" (change)="onPageSizeChange($event, orgId)" id="styled-select" >
                                <option *ngFor="let size of pagination.pageSizes" [ngValue]="size">{{ size }}</option>
                            </select>
                          </div>
                      </div>
                      <div class="col-lg-4">
                          <div class="float-right">
                              <div class="input-group">
                                  <input type="text" (keyup)="Filter($event, orgId)" class="form-control input-search" placeholder="Search by name...">
                                  <span class="input-group-btn">
                                      <button class="btn btn-success" type="button"><i class="fa fa-search"></i></button>
                                  </span>
                              </div>
                          </div>
                      </div>
                  </div>
                  <div class="card card-solid">
                    <div class="card-body pb-0">
                      <div class="row">     
                        <ng-container *ngIf="(staffs.length > 0); else elseBlock">                 
                          <div class="col-12 col-sm-6 col-md-4 d-flex align-items-stretch flex-column" *ngFor="let item of staffs | paginate : {
                                    itemsPerPage: pagination.pageSize, currentPage: pagination.page,
                                    totalItems: pagination.count
                                }; let i = index">
                            <div class="card bg-light d-flex flex-fill">
                              <div class="card-header text-muted border-bottom-0">
                                Employee ID: <span class="btn btn-sm bg-teal"> {{item.employeeId}}</span> 
                              </div>
                              <div class="card-body pt-0">
                                <div class="row">
                                  <div class="col-7">
                                    <h2 class="lead"><b>{{item.lastName}} {{item.firstName}}</b></h2>
                                    <p class="text-muted text-sm"><b>Email: </b> {{item.email}} </p>
                                    <ul class="ml-4 mb-0 fa-ul text-muted">
                                      <li class="small"><span class="fa-li"><i class="fas fa-lg fa-building"></i></span> Address: {{item.houseNumber}}, {{item.streetAddress}}, {{item.nearestBusStop}}, {{item.city.name}}, {{item.state.name}}.</li>
                                      <li class="small"><span class="fa-li"><i class="fas fa-lg fa-phone"></i></span> Phone #: {{item.phoneNumber}}</li>
                                      <li class="small"><span class="fa-li"><i class="fas fa-lg fa-user"></i></span> Username: {{item.userName}}</li>
                                    </ul>
                                  </div>
                                  <div class="col-5 text-center">
                                    <img src="{{ (item.picturePath == '' || item.picturePath == 'N/A') ? '/assets/admin/admintemplates/img/user1-128x128.jpg' : item.picturePath }}" style="width: 128px; height:128px;" alt="user-avatar" class="img-circle img-fluid">
                                  </div>
                                </div>
                              </div>
                              <div class="card-footer">
                                <div class="text-right">
                                  <a [routerLink]='["/feed/staffs/show/", item.id]' type="button" class="btn btn-primary" *ngIf="userRoleStatus == 'power_user' || userRoleStatus == 'client_admin' || userRoleStatus == 'tenant'"><i class="fas fa-eye"></i> View Profile</a> |
                                  <a [routerLink]='["/feed/staffs/edit/", item.id]' type="button" class="btn btn-info" *ngIf="userRoleStatus == 'power_user' || userRoleStatus == 'client_admin' || userRoleStatus == 'tenant'"><i class="fa fa-edit"></i></a> |
                                  <button type="button" (click)="deleteUser(item, orgId)" class="btn btn-sm btn-danger" *ngIf="userRoleStatus == 'power_user'"><i class="fa fa-trash"></i></button>
                                </div>
                              </div>
                            </div>
                          </div>
                      </ng-container>
                      <ng-template #elseBlock>
                        <div class="col-md-12">
                          <h2 style="font-size:14px; font-family:Trebuchet MS; text-align: center; color: red;">No Record Found</h2>
                        </div>
                      </ng-template>
                    </div>
                  </div>
                  <div style="float:right" *ngIf="(staffs.length > 0)">
                    <pagination-controls class="paginate-style"
                     (pageChange)="onPageChange($event, orgId)">
                    </pagination-controls>
                  </div>
              </div>
          </div>
      </div>
  </div><!-- Row -->
</div><!-- Main Wrapper -->
